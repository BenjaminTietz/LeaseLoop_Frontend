<main>
    <content>
        <div class="header">
            <h1>Units</h1>
            <button class="btn-add" (click)="openForm()">
                <mat-icon>add</mat-icon>
                <span>New Unit</span>
            </button>
        </div>
        <div class="table-wrapper">
            <table class="table">
                <thead>
                    <tr>
                        <th class="active-column">Active</th>
                        <th>Property</th>
                        <th>Name</th>
                        <th>Capacity</th>
                        <th>Price</th>
                        <th>Status</th>
                        <th>Edit unit</th>
                    </tr>
                </thead>
                <tbody>
                    @for (unit of this.unitsService.units(); track unit) {
                    <tr >
                        <td> <mat-icon [ngClass]="unit.active ? 'active' : 'inactive'">radio_button_checked</mat-icon> </td>
                        <td>{{unit.property.name}}</td>
                        <td>{{unit.name}}</td>
                        <td>{{unit.capacity}}</td>
                        <td>{{unit.price_per_night}}</td>
                        <td>{{unit.status}}</td>
                        <td>
                            <div class="btn-container">
                                <button (click)="openEditForm(); unitsService.selectedUnit.set(unit)">Edit</button>
                            </div>
                        </td>
                    </tr>
                    }

                </tbody>
            </table>
        </div>
        @if(formOpen()){
            <app-unit-form (close)="formOpen.set(false)"></app-unit-form>
        }
    </content>
</main>